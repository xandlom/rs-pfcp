# v0.2.1: Default Trait Implementation for Builders

**Created:** 2025-12-03
**Status:** In Progress
**Target:** v0.2.1
**Breaking:** No (additive only)

---

## Goal

Add `Default` trait to all eligible builders to enable more idiomatic Rust patterns.

##  Strategy

Add `Default` to the `derive` macro for all builder structs where all fields can be initialized with default values (typically `None` for `Option` types or empty collections).

### Pattern

**Before:**
```rust
#[derive(Debug, Clone)]
pub struct MyBuilder {
    field1: Option<Type1>,
    field2: Option<Type2>,
}

impl MyBuilder {
    pub fn new() -> Self {
        MyBuilder {
            field1: None,
            field2: None,
        }
    }
}
```

**After:**
```rust
#[derive(Debug, Clone, Default)]
pub struct MyBuilder {
    field1: Option<Type1>,
    field2: Option<Type2>,
}

impl MyBuilder {
    pub fn new() -> Self {
        Self::default()
    }
}
```

**Benefits:**
- More idiomatic Rust
- Enables `MyBuilder::default()`
- Simpler `new()` implementation
- Consistent with Rust conventions

---

## Implementation Status

### Already Have Default âœ…

1. EthernetContextInformationBuilder
2. EthernetTrafficInformationBuilder
3. FteidBuilder
4. PfdContentsBuilder

### To Add Default ðŸ“‹

**IE Builders (16):**
1. CreatePdrBuilder
2. CreateFarBuilder
3. CreateQerBuilder
4. CreateUrrBuilder
5. UpdatePdrBuilder
6. UpdateFarBuilder
7. UpdateQerBuilder
8. UpdateUrrBuilder
9. PdiBuilder
10. EthernetPacketFilterBuilder
11. UsageReportBuilder (3 variants)

**Message Builders (~26):**
1. HeartbeatRequestBuilder
2. HeartbeatResponseBuilder
3. AssociationSetupRequestBuilder
4. AssociationSetupResponseBuilder
5. AssociationReleaseRequestBuilder
6. AssociationReleaseResponseBuilder
7. SessionEstablishmentRequestBuilder
8. SessionEstablishmentResponseBuilder
9. SessionModificationRequestBuilder
10. SessionModificationResponseBuilder
11. SessionDeletionRequestBuilder
12. SessionDeletionResponseBuilder
13. SessionReportRequestBuilder
14. SessionReportResponseBuilder
15. (and more...)

---

## Decision: Focused Approach for v0.2.1

Adding Default to all 40+ builders is valuable but time-consuming. For v0.2.1, let's focus on **high-value builders** that users interact with most frequently.

### Priority 1: Grouped IE Builders (Most Used)

These are used in almost every PFCP message:

1. âœ… CreatePdrBuilder
2. âœ… CreateFarBuilder
3. âœ… CreateQerBuilder
4. âœ… CreateUrrBuilder
5. âœ… PdiBuilder

### Priority 2: Can defer to v0.2.2

- Update* builders
- Message builders (many require parameters anyway)
- Less common IE builders

---

## Implementation

Let's add Default to the Priority 1 builders now.

